{"ast":null,"code":"import _slicedToArray from \"C:/Users/Ronald/Desktop/Frontend/blog/myblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport MutateObserver from '@rc-component/mutate-observer';\nimport classNames from 'classnames';\nimport React, { useEffect, useRef } from 'react';\nimport { getPixelRatio, getStyleStr, reRendering, rotateWatermark } from './utils';\n/**\r\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\r\n * Only alternate layout is currently supported\r\n */\nvar BaseSize = 2;\nvar FontGap = 3;\nvar Watermark = function Watermark(props) {\n  var _a, _b;\n  var _props$zIndex = props.zIndex,\n    zIndex = _props$zIndex === void 0 ? 9 : _props$zIndex,\n    _props$rotate = props.rotate,\n    rotate = _props$rotate === void 0 ? -22 : _props$rotate,\n    width = props.width,\n    height = props.height,\n    image = props.image,\n    content = props.content,\n    _props$font = props.font,\n    font = _props$font === void 0 ? {} : _props$font,\n    style = props.style,\n    className = props.className,\n    rootClassName = props.rootClassName,\n    _props$gap = props.gap,\n    gap = _props$gap === void 0 ? [100, 100] : _props$gap,\n    offset = props.offset,\n    children = props.children;\n  var _font$color = font.color,\n    color = _font$color === void 0 ? 'rgba(0,0,0,.15)' : _font$color,\n    _font$fontSize = font.fontSize,\n    fontSize = _font$fontSize === void 0 ? 16 : _font$fontSize,\n    _font$fontWeight = font.fontWeight,\n    fontWeight = _font$fontWeight === void 0 ? 'normal' : _font$fontWeight,\n    _font$fontStyle = font.fontStyle,\n    fontStyle = _font$fontStyle === void 0 ? 'normal' : _font$fontStyle,\n    _font$fontFamily = font.fontFamily,\n    fontFamily = _font$fontFamily === void 0 ? 'sans-serif' : _font$fontFamily;\n  var _gap = _slicedToArray(gap, 2),\n    gapX = _gap[0],\n    gapY = _gap[1];\n  var gapXCenter = gapX / 2;\n  var gapYCenter = gapY / 2;\n  var offsetLeft = (_a = offset === null || offset === void 0 ? void 0 : offset[0]) !== null && _a !== void 0 ? _a : gapXCenter;\n  var offsetTop = (_b = offset === null || offset === void 0 ? void 0 : offset[1]) !== null && _b !== void 0 ? _b : gapYCenter;\n  var getMarkStyle = function getMarkStyle() {\n    var markStyle = {\n      zIndex: zIndex,\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      pointerEvents: 'none',\n      backgroundRepeat: 'repeat'\n    };\n    /** Calculate the style of the offset */\n    var positionLeft = offsetLeft - gapXCenter;\n    var positionTop = offsetTop - gapYCenter;\n    if (positionLeft > 0) {\n      markStyle.left = \"\".concat(positionLeft, \"px\");\n      markStyle.width = \"calc(100% - \".concat(positionLeft, \"px)\");\n      positionLeft = 0;\n    }\n    if (positionTop > 0) {\n      markStyle.top = \"\".concat(positionTop, \"px\");\n      markStyle.height = \"calc(100% - \".concat(positionTop, \"px)\");\n      positionTop = 0;\n    }\n    markStyle.backgroundPosition = \"\".concat(positionLeft, \"px \").concat(positionTop, \"px\");\n    return markStyle;\n  };\n  var containerRef = useRef(null);\n  var watermarkRef = useRef();\n  var stopObservation = useRef(false);\n  var destroyWatermark = function destroyWatermark() {\n    if (watermarkRef.current) {\n      watermarkRef.current.remove();\n      watermarkRef.current = undefined;\n    }\n  };\n  var appendWatermark = function appendWatermark(base64Url, markWidth) {\n    var _a;\n    if (containerRef.current && watermarkRef.current) {\n      stopObservation.current = true;\n      watermarkRef.current.setAttribute('style', getStyleStr(Object.assign(Object.assign({}, getMarkStyle()), {\n        backgroundImage: \"url('\".concat(base64Url, \"')\"),\n        backgroundSize: \"\".concat((gapX + markWidth) * BaseSize, \"px\")\n      })));\n      (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.append(watermarkRef.current);\n      // Delayed execution\n      setTimeout(function () {\n        stopObservation.current = false;\n      });\n    }\n  };\n  /**\r\n   * Get the width and height of the watermark. The default values are as follows\r\n   * Image: [120, 64]; Content: It's calculated by content;\r\n   */\n  var getMarkSize = function getMarkSize(ctx) {\n    var defaultWidth = 120;\n    var defaultHeight = 64;\n    if (!image && ctx.measureText) {\n      ctx.font = \"\".concat(Number(fontSize), \"px \").concat(fontFamily);\n      var contents = Array.isArray(content) ? content : [content];\n      var widths = contents.map(function (item) {\n        return ctx.measureText(item).width;\n      });\n      defaultWidth = Math.ceil(Math.max.apply(Math, _toConsumableArray(widths)));\n      defaultHeight = Number(fontSize) * contents.length + (contents.length - 1) * FontGap;\n    }\n    return [width !== null && width !== void 0 ? width : defaultWidth, height !== null && height !== void 0 ? height : defaultHeight];\n  };\n  var fillTexts = function fillTexts(ctx, drawX, drawY, drawWidth, drawHeight) {\n    var ratio = getPixelRatio();\n    var mergedFontSize = Number(fontSize) * ratio;\n    ctx.font = \"\".concat(fontStyle, \" normal \").concat(fontWeight, \" \").concat(mergedFontSize, \"px/\").concat(drawHeight, \"px \").concat(fontFamily);\n    ctx.fillStyle = color;\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'top';\n    ctx.translate(drawWidth / 2, 0);\n    var contents = Array.isArray(content) ? content : [content];\n    contents === null || contents === void 0 ? void 0 : contents.forEach(function (item, index) {\n      ctx.fillText(item !== null && item !== void 0 ? item : '', drawX, drawY + index * (mergedFontSize + FontGap * ratio));\n    });\n  };\n  var renderWatermark = function renderWatermark() {\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    if (ctx) {\n      if (!watermarkRef.current) {\n        watermarkRef.current = document.createElement('div');\n      }\n      var ratio = getPixelRatio();\n      var _getMarkSize = getMarkSize(ctx),\n        _getMarkSize2 = _slicedToArray(_getMarkSize, 2),\n        markWidth = _getMarkSize2[0],\n        markHeight = _getMarkSize2[1];\n      var canvasWidth = (gapX + markWidth) * ratio;\n      var canvasHeight = (gapY + markHeight) * ratio;\n      canvas.setAttribute('width', \"\".concat(canvasWidth * BaseSize, \"px\"));\n      canvas.setAttribute('height', \"\".concat(canvasHeight * BaseSize, \"px\"));\n      var drawX = gapX * ratio / 2;\n      var drawY = gapY * ratio / 2;\n      var drawWidth = markWidth * ratio;\n      var drawHeight = markHeight * ratio;\n      var rotateX = (drawWidth + gapX * ratio) / 2;\n      var rotateY = (drawHeight + gapY * ratio) / 2;\n      /** Alternate drawing parameters */\n      var alternateDrawX = drawX + canvasWidth;\n      var alternateDrawY = drawY + canvasHeight;\n      var alternateRotateX = rotateX + canvasWidth;\n      var alternateRotateY = rotateY + canvasHeight;\n      ctx.save();\n      rotateWatermark(ctx, rotateX, rotateY, rotate);\n      if (image) {\n        var img = new Image();\n        img.onload = function () {\n          ctx.drawImage(img, drawX, drawY, drawWidth, drawHeight);\n          /** Draw interleaved pictures after rotation */\n          ctx.restore();\n          rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\n          ctx.drawImage(img, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\n          appendWatermark(canvas.toDataURL(), markWidth);\n        };\n        img.crossOrigin = 'anonymous';\n        img.referrerPolicy = 'no-referrer';\n        img.src = image;\n      } else {\n        fillTexts(ctx, drawX, drawY, drawWidth, drawHeight);\n        /** Fill the interleaved text after rotation */\n        ctx.restore();\n        rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\n        fillTexts(ctx, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\n        appendWatermark(canvas.toDataURL(), markWidth);\n      }\n    }\n  };\n  var onMutate = function onMutate(mutations) {\n    if (stopObservation.current) {\n      return;\n    }\n    mutations.forEach(function (mutation) {\n      if (reRendering(mutation, watermarkRef.current)) {\n        destroyWatermark();\n        renderWatermark();\n      }\n    });\n  };\n  useEffect(renderWatermark, [rotate, zIndex, width, height, image, content, color, fontSize, fontWeight, fontStyle, fontFamily, gapX, gapY, offsetLeft, offsetTop]);\n  return /*#__PURE__*/React.createElement(MutateObserver, {\n    onMutate: onMutate\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef,\n    className: classNames(className, rootClassName),\n    style: Object.assign({\n      position: 'relative'\n    }, style)\n  }, children));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Watermark.displayName = 'Watermark';\n}\nexport default Watermark;","map":{"version":3,"names":["_toConsumableArray","MutateObserver","classNames","React","useEffect","useRef","getPixelRatio","getStyleStr","reRendering","rotateWatermark","BaseSize","FontGap","Watermark","props","_a","_b","zIndex","rotate","width","height","image","content","font","style","className","rootClassName","gap","offset","children","color","fontSize","fontWeight","fontStyle","fontFamily","gapX","gapY","gapXCenter","gapYCenter","offsetLeft","offsetTop","getMarkStyle","markStyle","position","left","top","pointerEvents","backgroundRepeat","positionLeft","positionTop","backgroundPosition","containerRef","watermarkRef","stopObservation","destroyWatermark","current","remove","undefined","appendWatermark","base64Url","markWidth","setAttribute","Object","assign","backgroundImage","backgroundSize","append","setTimeout","getMarkSize","ctx","defaultWidth","defaultHeight","measureText","Number","contents","Array","isArray","widths","map","item","Math","ceil","max","apply","length","fillTexts","drawX","drawY","drawWidth","drawHeight","ratio","mergedFontSize","fillStyle","textAlign","textBaseline","translate","forEach","index","fillText","renderWatermark","canvas","document","createElement","getContext","markHeight","canvasWidth","canvasHeight","rotateX","rotateY","alternateDrawX","alternateDrawY","alternateRotateX","alternateRotateY","save","img","Image","onload","drawImage","restore","toDataURL","crossOrigin","referrerPolicy","src","onMutate","mutations","mutation","ref","process","env","NODE_ENV","displayName"],"sources":["C:/Users/Ronald/Desktop/Frontend/blog/myblog/node_modules/antd/es/watermark/index.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\r\nimport MutateObserver from '@rc-component/mutate-observer';\r\nimport classNames from 'classnames';\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { getPixelRatio, getStyleStr, reRendering, rotateWatermark } from './utils';\r\n/**\r\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\r\n * Only alternate layout is currently supported\r\n */\r\nconst BaseSize = 2;\r\nconst FontGap = 3;\r\nconst Watermark = props => {\r\n  var _a, _b;\r\n  const {\r\n    /**\r\n     * The antd content layer zIndex is basically below 10\r\n     * https://github.com/ant-design/ant-design/blob/6192403b2ce517c017f9e58a32d58774921c10cd/components/style/themes/default.less#L335\r\n     */\r\n    zIndex = 9,\r\n    rotate = -22,\r\n    width,\r\n    height,\r\n    image,\r\n    content,\r\n    font = {},\r\n    style,\r\n    className,\r\n    rootClassName,\r\n    gap = [100, 100],\r\n    offset,\r\n    children\r\n  } = props;\r\n  const {\r\n    color = 'rgba(0,0,0,.15)',\r\n    fontSize = 16,\r\n    fontWeight = 'normal',\r\n    fontStyle = 'normal',\r\n    fontFamily = 'sans-serif'\r\n  } = font;\r\n  const [gapX, gapY] = gap;\r\n  const gapXCenter = gapX / 2;\r\n  const gapYCenter = gapY / 2;\r\n  const offsetLeft = (_a = offset === null || offset === void 0 ? void 0 : offset[0]) !== null && _a !== void 0 ? _a : gapXCenter;\r\n  const offsetTop = (_b = offset === null || offset === void 0 ? void 0 : offset[1]) !== null && _b !== void 0 ? _b : gapYCenter;\r\n  const getMarkStyle = () => {\r\n    const markStyle = {\r\n      zIndex,\r\n      position: 'absolute',\r\n      left: 0,\r\n      top: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      pointerEvents: 'none',\r\n      backgroundRepeat: 'repeat'\r\n    };\r\n    /** Calculate the style of the offset */\r\n    let positionLeft = offsetLeft - gapXCenter;\r\n    let positionTop = offsetTop - gapYCenter;\r\n    if (positionLeft > 0) {\r\n      markStyle.left = `${positionLeft}px`;\r\n      markStyle.width = `calc(100% - ${positionLeft}px)`;\r\n      positionLeft = 0;\r\n    }\r\n    if (positionTop > 0) {\r\n      markStyle.top = `${positionTop}px`;\r\n      markStyle.height = `calc(100% - ${positionTop}px)`;\r\n      positionTop = 0;\r\n    }\r\n    markStyle.backgroundPosition = `${positionLeft}px ${positionTop}px`;\r\n    return markStyle;\r\n  };\r\n  const containerRef = useRef(null);\r\n  const watermarkRef = useRef();\r\n  const stopObservation = useRef(false);\r\n  const destroyWatermark = () => {\r\n    if (watermarkRef.current) {\r\n      watermarkRef.current.remove();\r\n      watermarkRef.current = undefined;\r\n    }\r\n  };\r\n  const appendWatermark = (base64Url, markWidth) => {\r\n    var _a;\r\n    if (containerRef.current && watermarkRef.current) {\r\n      stopObservation.current = true;\r\n      watermarkRef.current.setAttribute('style', getStyleStr(Object.assign(Object.assign({}, getMarkStyle()), {\r\n        backgroundImage: `url('${base64Url}')`,\r\n        backgroundSize: `${(gapX + markWidth) * BaseSize}px`\r\n      })));\r\n      (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.append(watermarkRef.current);\r\n      // Delayed execution\r\n      setTimeout(() => {\r\n        stopObservation.current = false;\r\n      });\r\n    }\r\n  };\r\n  /**\r\n   * Get the width and height of the watermark. The default values are as follows\r\n   * Image: [120, 64]; Content: It's calculated by content;\r\n   */\r\n  const getMarkSize = ctx => {\r\n    let defaultWidth = 120;\r\n    let defaultHeight = 64;\r\n    if (!image && ctx.measureText) {\r\n      ctx.font = `${Number(fontSize)}px ${fontFamily}`;\r\n      const contents = Array.isArray(content) ? content : [content];\r\n      const widths = contents.map(item => ctx.measureText(item).width);\r\n      defaultWidth = Math.ceil(Math.max.apply(Math, _toConsumableArray(widths)));\r\n      defaultHeight = Number(fontSize) * contents.length + (contents.length - 1) * FontGap;\r\n    }\r\n    return [width !== null && width !== void 0 ? width : defaultWidth, height !== null && height !== void 0 ? height : defaultHeight];\r\n  };\r\n  const fillTexts = (ctx, drawX, drawY, drawWidth, drawHeight) => {\r\n    const ratio = getPixelRatio();\r\n    const mergedFontSize = Number(fontSize) * ratio;\r\n    ctx.font = `${fontStyle} normal ${fontWeight} ${mergedFontSize}px/${drawHeight}px ${fontFamily}`;\r\n    ctx.fillStyle = color;\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'top';\r\n    ctx.translate(drawWidth / 2, 0);\r\n    const contents = Array.isArray(content) ? content : [content];\r\n    contents === null || contents === void 0 ? void 0 : contents.forEach((item, index) => {\r\n      ctx.fillText(item !== null && item !== void 0 ? item : '', drawX, drawY + index * (mergedFontSize + FontGap * ratio));\r\n    });\r\n  };\r\n  const renderWatermark = () => {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    if (ctx) {\r\n      if (!watermarkRef.current) {\r\n        watermarkRef.current = document.createElement('div');\r\n      }\r\n      const ratio = getPixelRatio();\r\n      const [markWidth, markHeight] = getMarkSize(ctx);\r\n      const canvasWidth = (gapX + markWidth) * ratio;\r\n      const canvasHeight = (gapY + markHeight) * ratio;\r\n      canvas.setAttribute('width', `${canvasWidth * BaseSize}px`);\r\n      canvas.setAttribute('height', `${canvasHeight * BaseSize}px`);\r\n      const drawX = gapX * ratio / 2;\r\n      const drawY = gapY * ratio / 2;\r\n      const drawWidth = markWidth * ratio;\r\n      const drawHeight = markHeight * ratio;\r\n      const rotateX = (drawWidth + gapX * ratio) / 2;\r\n      const rotateY = (drawHeight + gapY * ratio) / 2;\r\n      /** Alternate drawing parameters */\r\n      const alternateDrawX = drawX + canvasWidth;\r\n      const alternateDrawY = drawY + canvasHeight;\r\n      const alternateRotateX = rotateX + canvasWidth;\r\n      const alternateRotateY = rotateY + canvasHeight;\r\n      ctx.save();\r\n      rotateWatermark(ctx, rotateX, rotateY, rotate);\r\n      if (image) {\r\n        const img = new Image();\r\n        img.onload = () => {\r\n          ctx.drawImage(img, drawX, drawY, drawWidth, drawHeight);\r\n          /** Draw interleaved pictures after rotation */\r\n          ctx.restore();\r\n          rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\r\n          ctx.drawImage(img, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\r\n          appendWatermark(canvas.toDataURL(), markWidth);\r\n        };\r\n        img.crossOrigin = 'anonymous';\r\n        img.referrerPolicy = 'no-referrer';\r\n        img.src = image;\r\n      } else {\r\n        fillTexts(ctx, drawX, drawY, drawWidth, drawHeight);\r\n        /** Fill the interleaved text after rotation */\r\n        ctx.restore();\r\n        rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\r\n        fillTexts(ctx, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\r\n        appendWatermark(canvas.toDataURL(), markWidth);\r\n      }\r\n    }\r\n  };\r\n  const onMutate = mutations => {\r\n    if (stopObservation.current) {\r\n      return;\r\n    }\r\n    mutations.forEach(mutation => {\r\n      if (reRendering(mutation, watermarkRef.current)) {\r\n        destroyWatermark();\r\n        renderWatermark();\r\n      }\r\n    });\r\n  };\r\n  useEffect(renderWatermark, [rotate, zIndex, width, height, image, content, color, fontSize, fontWeight, fontStyle, fontFamily, gapX, gapY, offsetLeft, offsetTop]);\r\n  return /*#__PURE__*/React.createElement(MutateObserver, {\r\n    onMutate: onMutate\r\n  }, /*#__PURE__*/React.createElement(\"div\", {\r\n    ref: containerRef,\r\n    className: classNames(className, rootClassName),\r\n    style: Object.assign({\r\n      position: 'relative'\r\n    }, style)\r\n  }, children));\r\n};\r\nif (process.env.NODE_ENV !== 'production') {\r\n  Watermark.displayName = 'Watermark';\r\n}\r\nexport default Watermark;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}